{"version":3,"file":"angular-json-table.js.map","sources":["ng://angular-json-table/src/app/modules/data-table/data-table.component.ts","ng://angular-json-table/src/app/modules/data-table/data-table.module.ts"],"sourcesContent":["import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\n\n@Component({\n  selector: 'json-table',\n  templateUrl: './data-table.component.html',\n  styleUrls: ['./data-table.component.scss']\n})\nexport class DataTableComponent implements OnInit {\n\n  @Input() dataSource: any;\n  @Input() headers: any;\n  @Input() update: boolean;\n\n  @Output() deleteRow: EventEmitter<any> = new EventEmitter<any>();\n  @Output() updateRow: EventEmitter<any> = new EventEmitter<any>();\n\n  data: any = {};\n\n  displayed = [];\n  perpage = 10;\n  total: number;\n  page = 1;\n\n  checked: any = [];\n  checkAll = false;\n  dialogue = false;\n  dialogeData: any = {};\n\n  constructor() {\n  }\n\n  ngOnInit() {\n    this.processData();\n  }\n\n  selected(e, id) {\n    if (e.target.checked) {\n      this.checked.push(id);\n    }\n  }\n\n  deleteSelected() {\n    if (this.checked.length > 0) {\n      this.deleteRow.emit(this.checked);\n      this.dataSource = this.dataSource.filter((value, index, array) => {\n        return !this.checked.includes(value.id);\n      });\n      this.checked = [];\n      this.paginate(this.page);\n    }\n  }\n\n  totalItems() {\n    if (this.total > this.perpage) {\n      return Math.ceil(this.total / this.perpage);\n    } else {\n      return 1;\n    }\n  }\n\n  paginate(page) {\n    const start = (this.perpage * page) - this.perpage;\n    const end = (this.perpage * page);\n    // console.log(start, end);\n    this.data['data'] = this.dataSource.slice(start, end);\n    // console.log(this.data);\n  }\n\n  pageOnChange(perPage) {\n    this.perpage = perPage;\n    this.page = 1;\n    //console.log(perPage);\n    this.paginate(this.page);\n  }\n\n  previousPage() {\n    if (this.page > 1) {\n      this.page--;\n    }\n\n    this.paginate(this.page);\n  }\n\n  nextPage() {\n    if (this.page + 1 <= this.totalItems()) {\n      this.page++;\n    }\n\n    this.paginate(this.page);\n  }\n\n  showUpdate(id: any) {\n    this.dialogue = true;\n    // console.log('Showing the updates');\n    this.data.data.forEach((value) => {\n      if (value.id === id) {\n        this.dialogeData = value;\n      }\n    });\n\n  }\n\n  closeDialogue() {\n    this.dialogue ? this.dialogue = false : this.dialogue = true;\n    this.dialogeData = {};\n  }\n\n  submitUpdateRow(dialogeData: any) {\n    this.updateRow.emit(dialogeData);\n  }\n\n  private processData() {\n    if (this.dataSource && this.dataSource.length > 0) {\n      this.total = this.dataSource.length;\n\n      if (this.headers.thead && this.headers.thead.length > 0) {\n        this.data['headers'] = this.headers.thead;\n        this.displayed = this.headers.displayed;\n      } else {\n        console.warn('No headers data for table provided');\n      }\n\n      this.paginate(this.page);\n    } else {\n      console.warn('No data for table provided');\n    }\n\n\n  }\n}\n\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {DataTableComponent} from './data-table.component';\nimport {FormsModule} from '@angular/forms';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule\n  ],\n  declarations: [DataTableComponent],\n  exports: [DataTableComponent]\n})\nexport class JSONTableModule {\n}\n"],"names":[],"mappings":"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"}
