{"version":3,"file":"angular-json-table.umd.js.map","sources":["ng://angular-json-table/src/app/modules/data-table/data-table.component.ts","ng://angular-json-table/src/app/modules/data-table/data-table.module.ts"],"sourcesContent":["import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\n\n@Component({\n  selector: 'json-table',\n  templateUrl: './data-table.component.html',\n  styleUrls: ['./data-table.component.scss']\n})\nexport class DataTableComponent implements OnInit {\n\n  @Input() dataSource: any;\n  @Input() headers: any;\n  @Input() update: boolean;\n\n  @Output() deleteRow: EventEmitter<any> = new EventEmitter<any>();\n  @Output() updateRow: EventEmitter<any> = new EventEmitter<any>();\n\n  data: any = {};\n\n  displayed = [];\n  perpage = 10;\n  total: number;\n  page = 1;\n\n  checked: any = [];\n  checkAll = false;\n  dialogue = false;\n  dialogeData: any = {};\n\n  constructor() {\n  }\n\n  ngOnInit() {\n    this.processData();\n  }\n\n  selected(e, id) {\n    if (e.target.checked) {\n      this.checked.push(id);\n    }\n  }\n\n  deleteSelected() {\n    if (this.checked.length > 0) {\n      this.deleteRow.emit(this.checked);\n      this.dataSource = this.dataSource.filter((value, index, array) => {\n        return !this.checked.includes(value.id);\n      });\n      this.checked = [];\n      this.paginate(this.page);\n    }\n  }\n\n  totalItems() {\n    if (this.total > this.perpage) {\n      return Math.ceil(this.total / this.perpage);\n    } else {\n      return 1;\n    }\n  }\n\n  paginate(page) {\n    const start = (this.perpage * page) - this.perpage;\n    const end = (this.perpage * page);\n    // console.log(start, end);\n    this.data['data'] = this.dataSource.slice(start, end);\n    // console.log(this.data);\n  }\n\n  pageOnChange(perPage) {\n    this.perpage = perPage;\n    this.page = 1;\n    //console.log(perPage);\n    this.paginate(this.page);\n  }\n\n  previousPage() {\n    if (this.page > 1) {\n      this.page--;\n    }\n\n    this.paginate(this.page);\n  }\n\n  nextPage() {\n    if (this.page + 1 <= this.totalItems()) {\n      this.page++;\n    }\n\n    this.paginate(this.page);\n  }\n\n  showUpdate(id: any) {\n    this.dialogue = true;\n    // console.log('Showing the updates');\n    this.data.data.forEach((value) => {\n      if (value.id === id) {\n        this.dialogeData = value;\n      }\n    });\n\n  }\n\n  closeDialogue() {\n    this.dialogue ? this.dialogue = false : this.dialogue = true;\n    this.dialogeData = {};\n  }\n\n  submitUpdateRow(dialogeData: any) {\n    this.updateRow.emit(dialogeData);\n  }\n\n  private processData() {\n    if (this.dataSource && this.dataSource.length > 0) {\n      this.total = this.dataSource.length;\n\n      if (this.headers.thead && this.headers.thead.length > 0) {\n        this.data['headers'] = this.headers.thead;\n        this.displayed = this.headers.displayed;\n      } else {\n        console.warn('No headers data for table provided');\n      }\n\n      this.paginate(this.page);\n    } else {\n      console.warn('No data for table provided');\n    }\n\n\n  }\n}\n\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {DataTableComponent} from './data-table.component';\nimport {FormsModule} from '@angular/forms';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule\n  ],\n  declarations: [DataTableComponent],\n  exports: [DataTableComponent]\n})\nexport class JSONTableModule {\n}\n"],"names":["EventEmitter","Component","Input","Output","NgModule","CommonModule","FormsModule"],"mappings":"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"}
